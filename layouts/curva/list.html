{{ partial "html.html" . }}
{{ partial "head.html" }}
<body>
      <link rel="stylesheet" href="/css/bootstrap.min.css">
<article class="about">
  <div class="container">
    <div class="cover">cover here</div>
   <div class="content">
      <h1>A Curva de Aprendizado podcast</h1>
     <p>Um podcast humano-máquina, onde o humano reclama do que tem que aprender, e a máquina se vira como pode.</p>
     <div class="player">
        <hr>
  {{ $allPages := .Site.RegularPages | default (slice) }}
  {{ $curvaPosts := where $allPages "Section" "curva" }}
  {{ $livePosts := where $curvaPosts "Params.status" "live" }}
  {{ $last := first 1 (sort $livePosts "Date" "desc") }}
  {{ with index $last 0 }}
    {{ if .Params.audio }}
      <div class="player-title">
      <h2>{{ .Title }}</h2>
        <audio controls style="width:100%">
          <source src="{{ .Params.audio }}" type="audio/mpeg">
          Your browser does not support the audio element.
        </audio>
        <p>{{ .Description }} 
          https://github.com/nonlinear/nonlinear.github.io/blob/main/content/curva/{{ .File.BaseFileName }}.md
         
          </p>
          
          
        
      </div>
    {{ else }}
      <em>Sem áudio disponível para o último episódio.</em>
    {{ end }}
  {{ end }}
</div>
    </div>

  </div>
</article>
<nav class="episodes">
  {{ $allPages := .Site.RegularPages | default (slice) }}
  {{ range $slug, $topic := .Site.Data.curva }}
    {{ $posts := where (where $allPages "Section" "curva") "Params.topic" $slug }}
    {{ $livePosts := where $posts "Params.status" "live" }}
    {{ if gt (len $livePosts) 0 }}
      <div class="topic">
        <div class="cover">
           {{ if $topic.cover }}
          <img src="{{ $topic.cover }}" alt="{{ $topic.name }}">
        {{ else if and (isset $topic "books") (gt (len $topic.books) 0) }}
  {{ $books := $topic.books }}
  {{ $randomBook := index $books (mod (now.Unix) (len $books)) }}
  <img src="{{ $randomBook.cover }}" alt="{{ $randomBook.title }}">
{{ end }}
        </div>
       <div class="content">
         <span class="badge rounded-pill text-bg-secondary">{{ $topic.type }}</span>
         <h3>{{ $topic.name }}</h3>
       
        <p>{{ $topic.description }}</p>
       <div class="chapters">
         <a href="#"
            data-bs-toggle="popover"
            data-bs-content="<p>{{ $topic.description }}</p> <p class='sig'>Publicado 3 meses</p>"
          >
            Episode 3
            
          </a>
           <a href="#"
            data-bs-toggle="popover"
            data-bs-content="<p>{{ $topic.description }}</p> <p class='sig'>Publicado 3 meses</p>"
          >
            Episode 2
            
          </a>
           <a href="#"
            data-bs-toggle="popover"
            data-bs-content="<p>{{ $topic.description }}</p> <p class='sig'>Publicado 3 meses</p>"
          >
            Episode 1
            
          </a>
       </div>
       </div>
      </div>
    {{ end }}
  {{ end }}
</nav>
{{ partial "load-js.html" . }}
    <script src="/js/lib/bootstrap.bundle.min.js"></script>
    <script>
  $('.selector').popover({
        html: true,
        trigger: 'manual',
        container: $(this).attr('id'),
        placement: 'top',
        content: function () {
            $return = '<div class="hover-hovercard"></div>';
        }
    }).on("mouseenter", function () {
        var _this = this;
        $(this).popover("show");
        $(this).siblings(".popover").on("mouseleave", function () {
            $(_this).popover('hide');
        });
    }).on("mouseleave", function () {
        var _this = this;
        setTimeout(function () {
            if (!$(".popover:hover").length) {
                $(_this).popover("hide")
            }
        }, 100);
    });
</script>
</body>
</html>