<aside id="credits">
    <a href="javascript:void(0)" class="mice credits-close"></a>
 <div id="qrdisplay"></div>
                    <h2>{{ .Page.Title }}</h2>
                    <p class="date">
                        {{ $now := now }} {{ $date := .Page.Date }} {{ $diff := div
                        (sub $now.Unix $date.Unix) 86400 }} {{ if lt $diff 1 }}
                        Published today
                        {{ else if lt $diff 7 }}
                        Published {{ $diff }} days ago
                        {{ else if lt $diff 30 }}
                        Published {{ div $diff 7 }} weeks ago
                        {{ else if lt $diff 365 }}
                        Published {{ div $diff 30 }} months ago
                        {{ else }}
                        Published {{ div $diff 365 }} years ago
                        {{ end }}
                        </p>
                    <p>{{ .Params.description | markdownify }}</p>

                    {{ $allowed := slice }}

                    {{ with .Params.tags }}
                      {{ $allowed = $allowed | append . }}
                    {{ end }}

                    {{ with .Params.fonts }}
                      {{ $allowed = $allowed | append . }}
                    {{ end }}

                    {{ with .Params.js }}
                      {{ range . }}
                        {{ $name := . }}
                        {{ if strings.Contains . ":" }}
                          {{ $name = index (split . ":") 0 }}
                        {{ end }}
                        {{ $allowed = $allowed | append $name }}
                      {{ end }}
                    {{ end }}

                    {{ $technologies := slice }}

                    {{ range $key, $tech := site.Data.tags }}
                      {{ if or (eq $tech.type "global") (in $allowed $key) }}
                        {{ $tech = merge $tech (dict "key" $key) }}
                        {{ $technologies = $technologies | append $tech }}
                      {{ end }}
                    {{ end }}

                    {{ $technologies = sort $technologies "title" }}

                    <section class="tags">
                      {{ range $tech := $technologies }}
                        <a class="tooltip" data-tooltip-id="{{ $tech.key }}">{{ $tech.title }}</a>

                        <div id="{{ $tech.key }}" style="display: none">
                          {{ if eq $tech.type "fonts" }}
                            <p>Fonte: {{ $tech.title }}</p>
                            <p>Fam√≠lia: {{ $tech.family }}</p>
                            <a href="{{ $tech.url }}" target="_blank">{{ $tech.url }}</a>

                          {{ else if eq $tech.type "tags" }}
                            <p>Tag: {{ $tech.title }}</p>
                            <p>{{ $tech.description }}</p>

                          {{ else if eq $tech.type "js" }}
                            <p>JS: {{ $tech.title }}</p>
                            <p>{{ $tech.description }}</p>
                            <a href="{{ $tech.url }}" target="_blank">{{ $tech.url }}</a>

                          {{ else if eq $tech.type "global" }}
                            <p>{{ $tech.description }}</p>
                          {{ end }}
                        </div>
                      {{ end }}
                    </section>
                    <section class="references">
                      {{ range .Params.reference }}
                        <a href="{{ . }}" data-microlink>{{ . }}</a>
                      {{ end }}
                    </section>


                   <section class="share">
                       <a href="javascript:void(0)" id="share">
                           Share creation</a>
                      <a href="/latest">
                         Visit latest creation
                      </a>
                  <a href="/">
                      About nonlinear
                  </a>
                   </section>
                </div>


        </div>
        {{ partial "qrcode.html" . }}
        <script src="https://cdn.jsdelivr.net/npm/@microlink/microlink.min.js"></script>
        <script>
          window.addEventListener('DOMContentLoaded', () => {
            microlink('.references a[data-microlink]')
          });
        </script>
        <script>
        document.addEventListener("DOMContentLoaded", () => {
          const container = document.querySelector("main.container");

          document.querySelectorAll(".credits-open").forEach((btn) => {
            btn.addEventListener("click", (e) => {
              e.preventDefault();
              container.classList.add("open-credits");
            });
          });

          document.querySelectorAll(".credits-close").forEach((btn) => {
            btn.addEventListener("click", (e) => {
              e.preventDefault();
              container.classList.remove("open-credits");
            });
          });
        });
        </script>
        <script>
            if (navigator.share) {
                document.getElementById("share").style.display = "block";
                document.getElementById("share").addEventListener("click", async () => {
                    try {
                        await navigator.share({
                            title: document.title,
                            text: "Check this out!",
                            url: window.location.href,
                        });
                    } catch (err) {
                        console.error("Error sharing:", err);
                    }
                });
            }
        </script>
</aside>
